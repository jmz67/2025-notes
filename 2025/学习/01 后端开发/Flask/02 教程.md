
### 项目结构

```
mkdir flask-tutorial
cd flask-tutorial
```

A flask application can be as simple as a single file.

```python
# hello.py

from flask import Flask 

app = Flask(__name__)

@app.route("/")
def hello():
    return "Hello, World!"
```

然而当项目变大的时候，保持代码在一个文件中就会变得难以维护。Python 项目使用 packages 去将代码组织进入多个模块中，在需要的时候我们只需要导入包即可。

我们的项目目录将会包含以下内容：

flaskr/ 一个 python 包包含应用的代码和文件

tests/ 一个目录包含测试模块

.venv/ 一个 python 的虚拟环境安装了 flask 和其他依赖

到最后我们的项目目录会是这样：

```
/home/user/Projects/flask-tutorial
├── flaskr/
│   ├── __init__.py
│   ├── db.py
│   ├── schema.sql
│   ├── auth.py
│   ├── blog.py
│   ├── templates/
│   │   ├── base.html
│   │   ├── auth/
│   │   │   ├── login.html
│   │   │   └── register.html
│   │   └── blog/
│   │       ├── create.html
│   │       ├── index.html
│   │       └── update.html
│   └── static/
│       └── style.css
├── tests/
│   ├── conftest.py
│   ├── data.sql
│   ├── test_factory.py
│   ├── test_db.py
│   ├── test_auth.py
│   └── test_blog.py
├── .venv/
├── pyproject.toml
└── MANIFEST.in
```

如果你使用版本管理，你应该编写 .gitignore 文件，这样的话每次提交和修改项目一些文件就会被忽略。There may be other files based on the editor you use. In general, ignore files that you didn’t write. For example, with git:

```
# 忽略虚拟环境目录
.venv/

# 忽略 Python 编译文件
*.pyc
__pycache__/

# 忽略 Flask 项目实例目录
instance/

# 忽略测试缓存目录
.pytest_cache/
.coverage
htmlcov/

# 忽略构建和分发目录
dist/
build/
*.egg-info/

# 忽略其他临时文件
*.log
*.tmp
```

.venv/ 是个虚拟环境目录，这里不上传

`*.py` 表示所有以 .pyc 结尾的文件。这些都是 python 编译之后的字节码文件，用于加速程序运行，但不需要版本控制。

`__pycache__/` 是 python3.x 的缓存目录，用于存储编译后的字节码文件，同样不需要版本控制。

instance/ 是 flask 项目中的一个目录，通常用于存储配置文件和数据库文件等，这些文件通常不需要版本控制。

.pytest_cache/ 是 pytest 测试框架的缓存目录，用于存储测试运行时候的缓存信息，不需要版本控制。

> **如何编写 .gitignore 文件？**
> 
> 该文件是一个文本文件，用于指定 git 应该忽略的文件和目录。应该遵循下述规则：
> 
> 直接写文件名和目录名，使用通配符 * 匹配特定模式的文件，例如 `*.log`  匹配所有以 .log 结尾的文件。
> 
> 使用 # 开头的行表示注释
> 
> 如果某个文件和目录已经被 git 追踪了，但是你想要从 .gitignore 中排除它，可以在该文件中使用 ! 前缀，例如 !file.txt 

### 应用设置

Flask 应用是 flask 类的实例。关于这个应用的一切，比如配置和 URL，都会使用这个类进行注册。

创建一个 Flask 应用的最直接的方式就是直接在你的代码的顶部创建一个全局的 Flask 实例，就像上一页中的示例那样。虽然这在某些情况下很简单也很有用，但它在项目变大的时候会带来一些棘手的问题。

与其全局创建一个 Flask 

