[欢迎来到 Flask 的世界 — Flask Documentation (3.1.x)](https://flask.palletsprojects.com/zh-cn/stable/)

### 最速开始

```python
from flask import Flask

app = Flask(__name__)

@app.route("/")
def hello_world():
    return "<p>Hello, world!</p>"
```

1. First we imported the [`Flask`](https://flask.palletsprojects.com/zh-cn/stable/api/#flask.Flask "flask.Flask") class. An instance of this class will be our WSGI application.
2. Next we create an instance of this class. The first argument is the name of the application's module or package. `__name__` is a convenient shortcut for this that is appropriate for most cases. This is needed so that Flask knows where to look for resources such as templates and static files.
3. We then use the [`route()`](https://flask.palletsprojects.com/zh-cn/stable/api/#flask.Flask.route "flask.Flask.route") decorator to tell Flask what URL should trigger our function.
4. The function returns the message we want to display in the user's browser. The default content type is HTML, so HTML in the string will be rendered by the browser.

Save it as `hello.py` or something similar. Make sure to not call your application `flask.py` because this would conflict with Flask itself.

To run the application, use the `flask` command or `python -m flask`. You need to tell the Flask where your application is with the `--app` option.

```
$ flask --app hello run
 * Serving Flask app 'hello'
 * Running on http://127.0.0.1:5000 (Press CTRL+C to quit)
```


### 调试模式

flask run 命令可以做的不仅仅是启动开发服务器。通过启用调试模式，如果代码发生更改，服务器将自动重新加载，如果在请求期间发生错误，服务器将在浏览器中显示交互式调试器。

![[Pasted image 20250214184735.png]]

访问调试器功能需要输入正确的 PIN 码（PIN码（个人识别码，Personal Identification Number）），以防止未经授权的访问。然而，即便有这种形式的保护，直接从浏览器执行任意 Python 代码仍然可能存在安全风险，因为如果PIN码被泄露或者存在其他安全漏洞，可能会允许攻击者执行恶意代码。因此，在生产环境中运行开发服务器或调试器是不推荐的，主要是为了避免可能的安全隐患。

```
$ flask --app hello run --debug
 * Serving Flask app 'hello'
 * Debug mode: on
 * Running on http://127.0.0.1:5000 (Press CTRL+C to quit)
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: nnn-nnn-nnn
```

### HTML Escaping

当返回 HTML（Flask 中的默认响应类型）时，任何在输出中呈现的用户提供的值都必须进行转义以防止注入攻击。后面介绍的使用 jinja 渲染的 HTM;