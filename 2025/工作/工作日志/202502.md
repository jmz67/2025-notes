## 第一周
### 0211

[[数字人初诊复诊]]

针对 dify 对聊天记录的管理，我这边打算自己实现一个对话记录的变量来存储复诊每个阶段的聊天历史，然后交给大模型节点去判断是否已经问答完全，然后再进行下一个阶段。今天打算测试一下这个思路，看看稳定性怎么样。

### 0212

[[数字人初诊复诊]]

工作流复诊部分完成了，目前的复诊是由大模型自主生成问题和判断结束，对话是通顺的，问答流程是闭环的，具体效果，昨天下午设备到了之后和春草那边测试了几波，效果还可以。现在大模型节点的聊天记录是我们自己管理和注入，然后通过提示词的方式将这种历史注入到大模型中。今天可以结合设备一起看一看，设备上，麦克风好像不是特别好用。

### 0213

推理模型快思考慢思考，用于 agent 的智能中枢

问答对创建，适合问诊环节

模型蒸馏没有固定范式，只要符合一定标准都算，好在 ds 给了范式。我们也可以用 o1 蒸馏得到问答学给我们的小模型。


## 第二周
### 0217 

解决工作流中对症状正常问题的回复问题，让正常的症状不在提问

解决完之后，再前后端联调一下

### 0218

本周了解 dify 登录界面原理

dify 源码进行了部署，前端和后端代码都进行了一个阅读。现在前端方面已经清晰了源代码文件的结构，然后基本上的页面上的修改是可以做到的，比如说把关于 dify 的内容去了，导航栏修改这样。后端方面，主要是看了它登录和注册的逻辑，看了一下 dify 的用户相关的表结构，它是这样，分为用户表，租户表，还有一张他们的关联表。

关联表是这样的：它有一个字段表示账户在租户中的角色，分的角色有 所有者 owner 管理者 admin 编辑者 editor 然后平台用户 normal 还有一个角色是知识库操作员 dataset ，然后这些角色会控制不同用户在页面上的效果。